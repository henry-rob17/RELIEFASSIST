{% extends "layout.html" %}
{% block content %}
<h3>{{ "Edit" if disaster else "New" }} Disaster</h3>

<form method="post" class="row g-3">
  <div class="col-md-6">
    <label class="form-label">Name</label>
    <input
      name="name"
      value="{{ disaster.name if disaster else "" }}"
      class="form-control"
      required
    >
  </div>

  <div class="col-md-6">
    <label class="form-label">Location</label>
    <input
      name="location"
      value="{{ disaster.location if disaster else "" }}"
      class="form-control"
      required
    >
  </div>

  <div class="col-md-4">
    <label class="form-label">Magnitude</label>
    <input
      name="magnitude"
      value="{{ disaster.magnitude if disaster else "" }}"
      class="form-control"
    >
  </div>

  <div class="col-md-4">
    <label class="form-label">Start Date</label>
    <input
      type="date"
      name="start_date"
      value="{{ disaster.start_date if disaster else today }}"
      class="form-control"
      required
    >
  </div>

  <div class="col-md-4">
    <label class="form-label">End Date</label>
    <input
      type="date"
      name="end_date"
      value="{{ disaster.end_date if disaster else "" }}"
      class="form-control"
    >
  </div>

  <div class="col-md-3">
    <label class="form-label">Status</label>
    <select name="status" class="form-select">
      {% for s in ["Open", "Ongoing", "Closed"] %}
        <option value="{{ s }}" {% if disaster and disaster.status == s %}selected{% endif %}>
          {{ s }}
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="col-12">
    <label class="form-label">Description</label>
    <textarea
      name="description"
      rows="4"
      class="form-control"
    >{{ disaster.description if disaster else "" }}</textarea>
  </div>

  <div class="col-12">
    <button class="btn btn-primary">Save</button>
    <a href="{{ url_for('disasters') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}
